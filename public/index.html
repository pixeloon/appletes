<!DOCTYPE html>
<html lang="en" ng-app='appletesApp'>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Appletes</title>
    <!-- favicon -->
    <!--     <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff"> -->
    <!-- angular-material -->
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css">
    <link rel="stylesheet" href="node_modules/mdi/css/materialdesignicons.min.css" media="all" type="text/css">
    <link rel="stylesheet" href="/css/style.css">
    <base href="/">
</head>

<body ng-controller="MainController" ng-cloak>
    <div class="container">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <p><strong>Appletes</strong></p>
                <md-button ng-if="view.showCards" ng-click='view.showNewWorkoutForm = !view.showNewWorkoutForm; view.showCards = !view.showCards'>
                    <md-icon class="mdi mdi-shape-polygon-plus"></md-icon>Add Workout</md-button>
                <md-button ng-if="!view.showCards" ng-click='view.showNewWorkoutForm = !view.showNewWorkoutForm; view.showCards = !view.showCards'>
                    <md-icon class="mdi mdi-sort-variant"></md-icon>Show Feed</md-button>
            </div>
        </md-toolbar>
        <!-- NEW WORKOUT form -->
        <div ng-if="view.showNewWorkoutForm">
            <div layout="column" class="md-inline-form">
                <md-content layout-padding>
                    <div>
                        <form name="userForm">
                         <h1 class="md-title">Name your Workout</h1>
                            <md-input-container>
                                <label>Title</label>
                                <input ng-model="view.workouts.title" type="text">
                            </md-input-container>
                            <!-- //SELECT -->
                            <!-- <div class="md-padding"> -->
                            <div>
                                <h1 class="md-title">Assign some tags</h1>
                                <div layout="row">
                                    <md-input-container>
                                        <label>Tags</label>
                                        <md-select ng-model="selectedTags" md-on-close="clearSearchTerm()" data-md-container-class="selectHeader" multiple>
                                            <md-select-header class="select-header">
                                                <input ng-model="searchTerm" type="search" placeholder="Search for a tag.." class="header-searchbox _md-text">
                                            </md-select-header>
                                            <md-optgroup label="tags">
                                                <md-option ng-value="tag" ng-repeat="tag in view.tags |
              filter:searchTerm">{{tag}}</md-option>
                                            </md-optgroup>
                                        </md-select>
                                    </md-input-container>
                                </div>
                            </div>
                            <!-- </div>  -->
                            <!-- //SELECT END -->
                             <h1 class="md-title">Provide helpful Instructions</h1>
                            <md-input-container class="md-block">
                                <label>Instructions:</label>
                                <textarea ng-model="view.workouts.instructions" md-maxlength="500" rows="5" md-select-on-focus></textarea>
                            </md-input-container>
                        </form>
                    </div>
                </md-content>
            </div>
            <md-content layout="row" class="md-padding" layout-wrap>
                <md-card ng-repeat="exercise in view.exercises" flex="30">
                    <img class="exerciseImage" ng-src="{{exercise.image}}" alt="image caption" \>
                    <md-card-title>
                        <md-card-title-text>
                            <span class="md-headline">{{exercise.name}}</span>
                        </md-card-title-text>
                    </md-card-title>
                    <!-- // EXERCISES -->
                    <md-card-content>
                        <p>Tags: <span class="exerciseTags" ng-repeat="tag in exercise.tags">&nbsp;<i>{{tag}}</i>&nbsp;</span>
                            <br> {{exercise.description}}
                        </p>
                    </md-card-content>
                </md-card>
            </md-content>
        </div>
        <!-- //CARDS -->
        <md-content ng-if="view.showCards" class="md-padding" layout="row" layout-align="space-around center" layout-wrap>
            <div flex-xs="5" flex="10" flex-gt-sm="20"></div>
            <div flex-xs="90" flex="80" flex-gt-sm="60">
                <md-card ng-repeat="card in view.cards">
                    <md-card-header>
                        <md-card-avatar>
                            <img class="md-user-avatar" src="/images/youcandoit.png">
                        </md-card-avatar>
                        <md-card-header-text>
                            <span class="md-title">By {{card.contributor}}</span>
                            <span class="md-subhead"> {{card.timestamp | date: 'short'}}</span>
                        </md-card-header-text>
                    </md-card-header>
                    <img class="cardImage" ng-src="{{card.image}}" alt="image caption" \>
                    <md-card-title>
                        <md-card-title-text>
                            <span class="md-headline">{{card.title}}</span>
                        </md-card-title-text>
                    </md-card-title>
                    <div class="tag" layout="row">
                        <span class="md-subhead">&nbsp;Tags: </span>
                        <span class="md-subhead" ng-repeat="tag in card.tags">&nbsp;<i>{{tag}}</i>&nbsp;</span>
                    </div>
                    <!--                     <md-card-actions layout="row" layout-align="start center">
                        <md-button>Action 1</md-button>
                        <md-button>Action 2</md-button>
                    </md-card-actions> -->
                    <md-card-content>
                        <p>
                            {{card.description}}
                        </p>
                    </md-card-content>
                </md-card>
            </div>
            <!-- //end flex 50 -->
            <div flex></div>
        </md-content>
    </div>
    <!-- end container -->
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>
    <script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyAhtV4Nmpcu_5rX5yLYLZEn2XGxn-xvwg4",
        authDomain: "project-5928931587527197811.firebaseapp.com",
        databaseURL: "https://project-5928931587527197811.firebaseio.com",
        storageBucket: "project-5928931587527197811.appspot.com",
    };
    firebase.initializeApp(config);
    </script>
    <!-- AngularJS -->
    <!--  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-route.js"></script> -->
    <script src="node_modules/angular/angular.js"></script>
    <script src="node_modules/angular-animate/angular-animate.js"></script>
    <script src="node_modules/angular-aria/angular-aria.js"></script>
    <script src="node_modules/angular-material/angular-material.js"></script>
    <!-- AngularFire -->
    <script src="https://cdn.firebase.com/libs/angularfire/2.0.1/angularfire.min.js"></script>
    <!-- Angular Material Library -->
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script> -->
    <script src="/js/app.js"></script>
    <script src="components/mainController.js"></script>
    <script src="components/workoutFactory.js"></script>
    <script src="components/exerciseFactory.js"></script>
</body>

</html>
